<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CD Tricolor Plazuela - Club Deportivo de Plazuela, Lo Miranda, Doñihue</title>

  <!-- SEO Meta Tags -->
  <meta name="description"
    content="Club Deportivo de la localidad de Plazuela, Lo Miranda, Doñihue, VI Región, Chile. Fundado el 16 de marzo de 1956. Fútbol amateur, equipos de todas las categorías.">
  <meta name="keywords"
    content="Tricolor Plazuela, Club Deportivo, Plazuela, Lo Miranda, Doñihue, VI Región, Chile, fútbol amateur, deporte">
  <meta name="author" content="CD Tricolor Plazuela">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tricolorplazuela.cl/">
  <meta property="og:title" content="CD Tricolor Plazuela - Club Deportivo de Plazuela, Lo Miranda, Doñihue">
  <meta property="og:description"
    content="Club Deportivo de la localidad de Plazuela, Lo Miranda, Doñihue, VI Región, Chile. Fundado el 16 de marzo de 1956.">
  <meta property="og:image" content="https://tricolorplazuela.cl/images/logo.webp">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://tricolorplazuela.cl/">
  <meta property="twitter:title" content="CD Tricolor Plazuela - Club Deportivo de Plazuela, Lo Miranda, Doñihue">
  <meta property="twitter:description"
    content="Club Deportivo de la localidad de Plazuela, Lo Miranda, Doñihue, VI Región, Chile. Fundado el 16 de marzo de 1956.">
  <meta property="twitter:image" content="https://tricolorplazuela.cl/images/logo.webp">

  <link rel="icon" type="image/webp" href="images/logo.webp">
  <link rel="stylesheet" href="style.css">
  <link rel="preload" href="header.html" as="fetch" crossorigin="anonymous">
  <link rel="preload" href="footer.html" as="fetch" crossorigin="anonymous">
</head>

<body>
  <!-- HEADER -->
  <!-- Removed original header block and added header container -->
  <div id="header-container"></div>
  <script>
    // Load header from external file
    fetch('header.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('header-container').innerHTML = html;
      })
      .catch(error => console.error('Error loading header:', error));
  </script>

  <!-- MAIN CONTENT -->
  <main>
    <section class="club-info">
      <h1>CD TRICOLOR PLAZUELA</h1>
      <p>
        CLUB DEPORTIVO FUNDADO 16 MARZO 1956, DE LA LOCALIDAD DE LO MIRANDA, DOÑIHUE
      </p>
    </section>

    <section class="pictures">
      <img src="images/primera.webp" alt="Team Picture 1">
      <img src="images/segunda.webp" alt="Team Picture 2">
      <img src="images/senior.webp" alt="Team Picture senior">
      <img src="images/infantiles.webp" alt="Team Picture kids">
      <img src="images/tercera.webp" alt="Team Picture 3">
    </section>

    <!-- Modal -->
    <div class="modal" id="modal">
      <span class="close" id="modal-close">&times;</span>
      <img id="modal-img" src="" alt="">
    </div>

    <section class="anuncio">
      <h2>Anuncio</h2>
      <iframe src="24_11_2025_A_temp.html"></iframe>
    </section>

    <section class="song">
      <iframe src="https://suno.com/embed/5f03a481-9b02-4e90-9d15-bf8834fd8d5c" width="200" height="140">
        <a href="https://suno.com/song/5f03a481-9b02-4e90-9d15-bf8834fd8d5c">Listen on Suno</a>
      </iframe>
    </section>

    <section class="results">
      <h2>Últimos resultados y Tablas de Posiciones</h2>
      <!-- iframe to load results page -->
      <iframe src="results_webpage.html"></iframe>
    </section>
  </main>

  <div id="footer-container"></div>
  <script>
    // Load header from external file
    fetch('footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footer-container').innerHTML = html;
      })
      .catch(error => console.error('Error loading footer:', error));
  </script>

  <script>
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const modalClose = document.getElementById('modal-close');

    document.querySelectorAll('.pictures img').forEach(img => {
      img.addEventListener('click', () => {
        modal.style.display = 'flex';
        modalImg.src = img.src;
      });
    });

    modalClose.addEventListener('click', () => modal.style.display = 'none');

    // Close if clicking outside the image
    modal.addEventListener('click', e => {
      if (e.target === modal) modal.style.display = 'none';
    });
  </script>

  <!-- Iframe resize helper for auto-fitting content -->
  <script>
    // Resize iframe to fit content
    function resizeIframe(iframe) {
      if (!iframe) return;

      try {
        const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        if (innerDoc && innerDoc.body) {
          const body = innerDoc.body;
          const html = innerDoc.documentElement;

          // Get the maximum height from various measurements
          const contentHeight = Math.max(
            body.scrollHeight,
            body.offsetHeight,
            html.clientHeight,
            html.scrollHeight,
            html.offsetHeight
          );

          // On desktop, set the height to fit content
          // On mobile (<=768px), let CSS handle it
          if (window.innerWidth > 768) {
            iframe.style.height = contentHeight + "px";
          } else {
            iframe.style.height = "auto";
          }
        }
      } catch (e) {
        // Cross-domain or other error - CSS will handle it
        console.log("Cannot access iframe content (likely cross-domain)");
      }
    }

    // Resize all iframes
    function resizeAllIframes() {
      const anuncioIframe = document.querySelector('.anuncio iframe');
      const resultsIframe = document.querySelector('.results iframe');

      resizeIframe(anuncioIframe);
      resizeIframe(resultsIframe);
    }

    // Resize on load
    window.addEventListener("load", () => {
      setTimeout(resizeAllIframes, 100);
      setTimeout(resizeAllIframes, 500);
      setTimeout(resizeAllIframes, 1000);
    });

    // Resize on window resize
    window.addEventListener("resize", resizeAllIframes);

    // Listen for iframe loads
    const anuncioIframe = document.querySelector('.anuncio iframe');
    const resultsIframe = document.querySelector('.results iframe');

    if (anuncioIframe) {
      anuncioIframe.addEventListener("load", () => {
        setTimeout(() => resizeIframe(anuncioIframe), 100);
        setTimeout(() => resizeIframe(anuncioIframe), 500);
      });
    }

    if (resultsIframe) {
      resultsIframe.addEventListener("load", () => {
        setTimeout(() => resizeIframe(resultsIframe), 100);
        setTimeout(() => resizeIframe(resultsIframe), 500);
      });
    }
  </script>



</body>

</html>